<div class="flex align-items-center">
    <h1 class="inline ml-3">Classes</h1>
    <span style="flex: 1 1 auto;"></span>
    <p-button *ngIf="user?.role == 'teacher'" label="Nueva clase" icon="pi pi-plus" styleClass="mr-3"
        (onClick)="goToRegister()"></p-button>
    <p-button *ngIf="user?.role == 'student'" label="Cambiar clase" icon="pi pi-sync" styleClass="mr-3"
        (onClick)="switchDialog()"></p-button>
</div>

<div class="flex flex-wrap">
    <div *ngFor="let class of classes" class="w-6 p-3">
        <div class="border-white border-solid border-round-md p-3 flex align-items-center">
            <h2 class="my-1 inline">{{class.id}} - {{class.name}}</h2>
            <span style="flex: 1 1 auto;"></span>
            <p-button *ngIf="user?.role == 'teacher'" label="Ver alumnos"
                (onClick)="navigateToClass(class.id!)"></p-button>
        </div>
    </div>
</div>

<p-dialog [(visible)]="dialogVisible" [modal]="true" header="Cambiar clase" [style]="{width: '300px'}">
    <div class="flex flex-wrap align-items-center">
        <p-button icon="pi pi-search" styleClass="mr-3" (onClick)="searchClass()"></p-button>
        <div class="flex flex-column gap-2">
            <label htmlFor="code">CÃ³digo de clase</label>
            <p-inputNumber id="code" [(ngModel)]="classSearch" [minFractionDigits]="0" [maxlength]="3"
                inputStyleClass="w-7rem inline"></p-inputNumber>
        </div>
    </div>

    <p>{{classFound ? targetClass?.name : 'No se ha encontrado la clase'}} </p>

    <div class="flex flex-wrap justify-content-center mt-2">
        <p-button label="Guardar"></p-button>
    </div>
</p-dialog>